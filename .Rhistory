# Chapter 8 Lab: Decision Trees
# Fitting Classification Trees
version
library(tree)
library(ISLR)
attach(Carseats)
hist(Sales)
#turn sales into a binary variable
High=ifelse(Sales<=8,"No","Yes")
# Update "Carseats" object including a new variable "High"
Carseats=data.frame(Carseats,High)
head(Carseats)
#fit the tree except "Sales" variable
tree.carseats=tree(High~.-Sales,Carseats)
summary(tree.carseats)
plot(tree.carseats)
text(tree.carseats,pretty=0)
# split training and test set
tree.carseats
set.seed(1011)
train=sample(1:nrow(Carseats), 250)
Carseats.test=Carseats[-train,]
High.test=High[-train]
tree.carseats=tree(High~.-Sales,Carseats,subset=train)
#predict tree against testset
tree.pred=predict(tree.carseats,Carseats.test,type="class")
table(tree.pred,High.test)
# performance of prediction: 0.7
(72+33)/150
cv.carseats=cv.tree(tree.carseats,FUN=prune.misclass)
names(cv.carseats)
cv.carseats
par(mfrow=c(1,1))
plot(cv.carseats$size,cv.carseats$dev,type="b")
plot(cv.carseats$k,cv.carseats$dev,type="b")
prune.carseats=prune.misclass(tree.carseats,best=13)
# Chapter 8 Lab: Decision Trees
# Fitting Classification Trees
version
library(tree)
library(ISLR)
attach(Carseats)
hist(Sales)
#turn sales into a binary variable
High=ifelse(Sales<=8,"No","Yes")
# Update "Carseats" object including a new variable "High"
Carseats=data.frame(Carseats,High)
head(Carseats)
#fit the tree except "Sales" variable
Carseats$High = as.factor(Carseats$High)
tree.carseats=tree(High~.-Sales,Carseats)
summary(tree.carseats)
plot(tree.carseats)
text(tree.carseats,pretty=0)
# split training and test set
tree.carseats
set.seed(1011)
train=sample(1:nrow(Carseats), 250)
Carseats.test=Carseats[-train,]
High.test=High[-train]
tree.carseats=tree(High~.-Sales,Carseats,subset=train)
#predict tree against testset
tree.pred=predict(tree.carseats,Carseats.test,type="class")
table(tree.pred,High.test)
# performance of prediction: 0.7
(72+33)/150
cv.carseats=cv.tree(tree.carseats,FUN=prune.misclass)
names(cv.carseats)
cv.carseats
par(mfrow=c(1,1))
plot(cv.carseats$size,cv.carseats$dev,type="b")
plot(cv.carseats$k,cv.carseats$dev,type="b")
prune.carseats=prune.misclass(tree.carseats,best=13)
setwd("C:/Users/alece/My Drive/University/USF/SPRING 22/LIS 4370 - R Programming/LIS_4370_R_Programming")
library(usethis)
use_git()
use_git()
